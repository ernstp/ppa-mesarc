From 25ed11be6d339027125455fbdfa23e9c3b1d6ad5 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Ernst=20Sj=C3=B6strand?= <ernstp@gmail.com>
Date: Thu, 15 Apr 2021 09:12:02 +0200
Subject: [PATCH] Revert "meson: use library() instead of shared_library()."

This reverts commit 52f05d3d896480ee5431dcd444f53bb2a8e41cce.
---
 amdgpu/meson.build    | 2 +-
 etnaviv/meson.build   | 2 +-
 exynos/meson.build    | 2 +-
 freedreno/meson.build | 2 +-
 intel/meson.build     | 2 +-
 libkms/meson.build    | 2 +-
 meson.build           | 2 +-
 nouveau/meson.build   | 2 +-
 omap/meson.build      | 2 +-
 radeon/meson.build    | 2 +-
 tegra/meson.build     | 2 +-
 11 files changed, 11 insertions(+), 11 deletions(-)

Index: libdrm-2.4.109/amdgpu/meson.build
===================================================================
--- libdrm-2.4.109.orig/amdgpu/meson.build
+++ libdrm-2.4.109/amdgpu/meson.build
@@ -21,7 +21,7 @@
 
 datadir_amdgpu = join_paths(get_option('prefix'), get_option('datadir'), 'libdrm')
 
-libdrm_amdgpu = library(
+libdrm_amdgpu = shared_library(
   'drm_amdgpu',
   [
     files(
Index: libdrm-2.4.109/etnaviv/meson.build
===================================================================
--- libdrm-2.4.109.orig/etnaviv/meson.build
+++ libdrm-2.4.109/etnaviv/meson.build
@@ -19,7 +19,7 @@
 # SOFTWARE.
 
 
-libdrm_etnaviv = library(
+libdrm_etnaviv = shared_library(
   'drm_etnaviv',
   [
     files(
Index: libdrm-2.4.109/exynos/meson.build
===================================================================
--- libdrm-2.4.109.orig/exynos/meson.build
+++ libdrm-2.4.109/exynos/meson.build
@@ -18,7 +18,7 @@
 # OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 # SOFTWARE.
 
-libdrm_exynos = library(
+libdrm_exynos = shared_library(
   'drm_exynos',
   [files('exynos_drm.c', 'exynos_fimg2d.c'), config_file],
   c_args : libdrm_c_args,
Index: libdrm-2.4.109/freedreno/meson.build
===================================================================
--- libdrm-2.4.109.orig/freedreno/meson.build
+++ libdrm-2.4.109/freedreno/meson.build
@@ -39,7 +39,7 @@ if with_freedreno_kgsl
   )
 endif
 
-libdrm_freedreno = library(
+libdrm_freedreno = shared_library(
   'drm_freedreno',
   [files_freedreno, config_file],
   c_args : libdrm_c_args,
Index: libdrm-2.4.109/intel/meson.build
===================================================================
--- libdrm-2.4.109.orig/intel/meson.build
+++ libdrm-2.4.109/intel/meson.build
@@ -18,7 +18,7 @@
 # OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 # SOFTWARE.
 
-libdrm_intel = library(
+libdrm_intel = shared_library(
   'drm_intel',
   [
     files(
Index: libdrm-2.4.109/libkms/meson.build
===================================================================
--- libdrm-2.4.109.orig/libkms/meson.build
+++ libdrm-2.4.109/libkms/meson.build
@@ -41,7 +41,7 @@ if with_exynos
   libkms_include += include_directories('../exynos')
 endif
 
-libkms = library(
+libkms = shared_library(
   'kms',
   [files_libkms, config_file],
   c_args : libdrm_c_args,
Index: libdrm-2.4.109/meson.build
===================================================================
--- libdrm-2.4.109.orig/meson.build
+++ libdrm-2.4.109/meson.build
@@ -316,7 +316,7 @@ if android
     install : true,
   )
 else
-  libdrm = library('drm', libdrm_files,
+  libdrm = shared_library('drm', libdrm_files,
     c_args : libdrm_c_args,
     dependencies : [dep_valgrind, dep_rt, dep_m],
     include_directories : inc_drm,
Index: libdrm-2.4.109/nouveau/meson.build
===================================================================
--- libdrm-2.4.109.orig/nouveau/meson.build
+++ libdrm-2.4.109/nouveau/meson.build
@@ -19,7 +19,7 @@
 # SOFTWARE.
 
 
-libdrm_nouveau = library(
+libdrm_nouveau = shared_library(
   'drm_nouveau',
   [files( 'nouveau.c', 'pushbuf.c', 'bufctx.c', 'abi16.c'), config_file],
   c_args : libdrm_c_args,
Index: libdrm-2.4.109/omap/meson.build
===================================================================
--- libdrm-2.4.109.orig/omap/meson.build
+++ libdrm-2.4.109/omap/meson.build
@@ -18,7 +18,7 @@
 # OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 # SOFTWARE.
 
-libdrm_omap = library(
+libdrm_omap = shared_library(
   'drm_omap',
   [files('omap_drm.c'), config_file],
   include_directories : [inc_root, inc_drm],
Index: libdrm-2.4.109/radeon/meson.build
===================================================================
--- libdrm-2.4.109.orig/radeon/meson.build
+++ libdrm-2.4.109/radeon/meson.build
@@ -19,7 +19,7 @@
 # SOFTWARE.
 
 
-libdrm_radeon = library(
+libdrm_radeon = shared_library(
   'drm_radeon',
   [
     files(
Index: libdrm-2.4.109/tegra/meson.build
===================================================================
--- libdrm-2.4.109.orig/tegra/meson.build
+++ libdrm-2.4.109/tegra/meson.build
@@ -18,7 +18,7 @@
 # OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 # SOFTWARE.
 
-libdrm_tegra = library(
+libdrm_tegra = shared_library(
   'drm_tegra',
   [files('tegra.c'), config_file],
   include_directories : [inc_root, inc_drm],
